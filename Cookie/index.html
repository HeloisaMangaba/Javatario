<!DOCTYPE html>
<!-- Cookie Popup - Javascript | Heloísa M Coletti -->
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <title>Cookie Popup</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="wrapper">
    <img src="cookie.svg" alt="">
    <div class="content">
      <header>Cookies</header>
      <p>Este site usa cookies para melhorar sua experiência de navegação.</br> Ao <b>clicar em "Okay"</b>, você concorda com o uso de cookies de acordo com nossa política de privacidade.</p>
      <div class="buttons">
        <button class="item">Okay</button>
        <a href="#" class="item">Saber mais</a>
      </div>
    </div>
  </div>

  <script>
    const cookieBox = document.querySelector(".wrapper"),
    acceptBtn = cookieBox.querySelector("button");

    acceptBtn.onclick = ()=>{
      //Depois de um mês o cookie expirará automaticamente
      document.cookie = "CookieBy=CodingNepal; max-age="+60*60*24*30;
      if(document.cookie){ //se o cookie estiver definido
        cookieBox.classList.add("hide"); //esconder cookie  popup
      }else{ //se o cookie não for definido, alertará um erro
        alert("O cookie não pode ser definido! Desbloqueie este site da configuração de cookies do seu navegador.");
      }
    }
    let checkCookie = document.cookie.indexOf("CookieBy=CodingNepal"); //verificando o cookie
    //se o cookie estiver definido, será ocutado o popup, caso contrário, mostrará
    checkCookie != -1 ? cookieBox.classList.add("hide") : cookieBox.classList.remove("hide");
  </script>

</body>
</html>
